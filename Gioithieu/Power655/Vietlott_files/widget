!function(d,w){const baseURL=new URL("https://vietlott.izimessage.com"),urlPath="/widget",eventCallbacks=[];function setStyle(e){for(var t in e)iframe.style.setProperty(t,e[t])}wc=screen.width,baseURL.pathname=urlPath,baseURL.searchParams.append("origin",w.location.origin);var iframe=d.createElement("iframe");function parseEvent(e){try{return"string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){console.debug("Parse data failed")}}function handleEvents(event){if(event.origin===baseURL.origin)try{var msg=parseEvent(event);switch(msg.topic){case"style":return void setStyle(msg.style);case"event:init-sdk":case"ready":var data={topic:msg.topic,location:w.location,document:{title:d.title,referrer:d.referrer},authToken:(w.izihelp_widget||{}).authToken||""};return void iframe.contentWindow.postMessage(JSON.stringify(data),event.origin);case"safe-exec":return void eval(msg.command)}if((msg.topic||"").startsWith("data:")){const callbacks=eventCallbacks[msg.topic]||[];delete eventCallbacks[msg.topic],callbacks.forEach(e=>e(parseEvent(event)))}}catch(ex){console.log(ex)}}iframe.id="mde-iframe",iframe.src=baseURL.toString(),iframe.scrolling="no",setStyle({position:"fixed",border:"none","z-index":9999,"box-shadow":"0px 1px 5px rgba(0,0,0,0.5)","-webkit-box-shadow":"0px 1px 5px rgba(0,0,0,0.5)",display:"none","background-color":"transparent"}),wc<640&&setStyle({"box-shadow":"none","-webkit-box-shadow":"none"}),d.body.appendChild(iframe),w.addEventListener?w.addEventListener("message",handleEvents,!1):w.attachEvent&&w.attachEvent("onmessage",handleEvents),w.izihelp_authToken=function(e){var t="data:authToken";eventCallbacks[t]=eventCallbacks[t]||[],eventCallbacks[t].push(e||function(){}),iframe.contentWindow.postMessage(JSON.stringify({topic:t}),baseURL.origin)}}(document,window);